<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Trainee account management</h1>
    <br><br>
    <form method="POST" action="/staff/account/trainee/add">
        <input type="text" name="username">
        <input type="text" name="password">
        <input type="date" name="dob">
        <input type="text" name="mainPL">
        <input type="text" name="expDetail">
        <input type="text" name="name">
        <input type="text" name="age">
        <input type="text" name="education">
        <input type="text" name="toeic">
        <input type="text" name="location">
        <select id="course_id" name='course_id'>
            <option value="" disabled selected hidden>Choose course...</option>
            {{#each type}}
            <optgroup label="{{name}}">
                {{#each this.description}}
                <option value="{{course_id}}">{{courseName}}</option>
                {{/each}}
            </optgroup>
            {{/each}}

        </select>
        <button type="submit">Add</button>
    </form>
    <br><br>

    <form method="POST" action="/staff/account/trainee/search">
        <input type="text" name="key">
        <button type="submit">Search</button>
    </form>

    <br><br>
    {{#each result}}
    <div>
        <p>{{username}}</p>
        <p>{{password}}</p>
        <p>{{dob}}</p>
        <p>{{mainPL}}</p>
        <p>{{expDetail}}</p>
        <p>{{name}}</p>
        <p>{{age}}</p>
        <p>{{education}}</p>
        <p>{{toeic}}</p>
        <p>{{location}}</p>
        <p>Course: {{courseName}}</p>
    </div>

    <button onclick="show({{trainee_id}})">Edit</button> <br><br>
    <a href="/staff/account/trainee/delete/{{trainee_id}}">Delete</a>


    <form method="POST" action="/staff/account/trainee/edit/{{trainee_id}}" id='{{trainee_id}}'
        style="opacity: 0; width: 200; height:300">
        <input value="{{username}}" name="username">
        <input value="{{password}}" name="password">
        <input value="{{dob}}" type="date" name="dob">
        <input value="{{mainPL}}" name="mainPL">
        <input value="{{expDetail}}" name="expDetail">
        <input value="{{name}}" name="name">
        <input value="{{age}}" name="age">
        <input value="{{education}}" name="education">
        <input value="{{toeic}}" name="toeic">
        <input value="{{location}}" name="location">
        <select id="course_id" name='course_id'>
            <optgroup label="Current course">
                <option value="{{course_id}}" selected>{{courseName}}</option>
            </optgroup>
            {{#each ../type}}
            <optgroup label="{{name}}">
                {{#each this.description}}
                <option value="{{course_id}}">{{courseName}}</option>
                {{/each}}
            </optgroup>
            {{/each}}
        </select>

        <button type="submit">Submit</button>
    </form>
    <br><br>

    {{/each}}
    <script>
        function show(id) {
            console.log('ok')
            console.log(id)
            document.getElementById(id).style.opacity = 1
        }

    </script>
</body>

</html>